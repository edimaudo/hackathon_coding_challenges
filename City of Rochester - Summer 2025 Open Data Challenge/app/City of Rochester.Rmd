---
title: "City of Rochester"
author: "Ed"
date: "2025-08-06"
output: html_document
---

```{r}

packages <- c(
  'ggplot2', 'corrplot','tidyverse','shiny','shinydashboard','shinycssloaders',
  'bslib','readxl','DT','mlbench','caTools','gridExtra','doParallel','grid',
  'reshape2','caret','tidyr','Matrix','lubridate','plotly','RColorBrewer',
  'data.table','scales','rfm','forecast','TTR','xts','dplyr', 'treemapify','leaflet'
)
for (package in packages) {
  if (!require(package, character.only=T, quietly=T)) {
    install.packages(package)
    library(package, character.only=T)
  }
}

```

# Load data
```{r}
parks <- read_csv("Parks_and_Playgrounds.csv")
tree <- read_csv("Trees.csv")
tree_address <- read_csv("Trees_address.csv")
```
```{r}
tree_temp <- inner_join(tree, tree_address,by="PARKS_VAL") %>%
  select(FULLADDR,GENUS,SPECIES,TREE_NAME_VAL,THEME_VAL,MAINT_VAL,AREA_VAL) %>%
  na.omit() %>%
  unique()

tree_df <- inner_join(tree_temp,parks,by="FULLADDR",relationship = "many-to-many") %>%
  select(FULLADDR,NAME,PHONE,AGENCYURL,EMAIL,Longitude,Latitude,GENUS,SPECIES,TREE_NAME_VAL,THEME_VAL,MAINT_VAL,AREA_VAL) %>%
  na.omit() %>%
  unique()
```


```{r}

```


```{r}
```

```{r}
 g <- tree %>%
    group_by(GENUS) %>%
    summarise(Total = n()) %>%
    select(GENUS, Total) %>% 
    arrange(desc(Total),by_group = FALSE) %>%
    top_n(n = 10)
g
```

# combine trees and tree address
```{r}
tree_temp <- inner_join(tree, tree_address,by="PARKS_VAL") %>%
  select(FULLADDR,GENUS,SPECIES,TREE_NAME_VAL,THEME_VAL,MAINT_VAL,AREA_VAL) %>%
  na.omit() %>%
  unique() #


  

```

```{r}
tree_temp2 <- inner_join(tree_temp,parks,by="FULLADDR",relationship = "many-to-many") %>%
  select(FULLADDR,NAME,PHONE,AGENCYURL,EMAIL,Longitude,Latitude,GENUS,SPECIES,TREE_NAME_VAL,THEME_VAL,MAINT_VAL,AREA_VAL) %>%
  na.omit() %>%
  unique()
```
```{r}

```